{% extends "base.html" %}
{% load markup core_tags widget_tweaks %}
{% load url from future %}

{% block title %}Invitation{% endblock %}
{% block subtitle %} <small>Response card</small>{% endblock %}

{% block content %}
<div class="box">
	 {% if form and form.primary_invitees %}
		<form action="{% url 'rsvp-response-card' slug=slug %}" method="post">{% csrf_token %}
			<div class="row-fluid">
				<div class="span10 offset1">
					<p class="lead">Come celebrate with us!</p>
					<p>Kindly respond by April 4<sup>th</sup>, 2013.</p>
					<div class="control-group">
						<div class="controls">
							<p class="muted"><em>You</em></p>
							{% with form.primary_invitees as wrapper %}
								{% for choice in wrapper.field.choices %}
									<label class="checkbox">
										<input type="checkbox" name="{{ wrapper.name }}" id="{{ wrapper.auto_id }}_{{ forloop.counter0 }}" value="{{ choice.0 }}">
										{{ choice.1 }}
									</label>
								{% endfor %}
							{% endwith %}
						</div>
					</div>
					<div class="control-group">
						<div class="controls">
							<p class="muted"><em>Your entourage</em></p>
							{% if form.secondary_invitees %}
								{% with form.secondary_invitees as wrapper %}
									{% for choice in wrapper.field.choices %}
										<label class="checkbox">
											<input type="checkbox" name="{{ wrapper.name }}" id="{{ wrapper.auto_id }}_{{ forloop.counter0 }}" value="{{ choice.0 }}">
											{{ choice.1 }}
										</label>
									{% endfor %}
								{% endwith %}
							{% endif %}
						</div>
				</div>
				<div class="control-group">
					<label class="control-label muted" for="{{ form.message.auto_id }}">
						<span><em>{{ form.message.label }}</em></span>
					</label>
		            <div class="controls">
						{{ form.message|add_class:"span12" }}
					</div>
				</div>
				<div class="control-group">
		            <div class="controls">
						<label class="checkbox">
							{{ form.cc_myself }}
							{{ form.cc_myself.label }}
						</label>
					</div>
				</div>
			</div>
			<div class="control-group">
				<div class="controls">
					{% block submit_button %}
						<button type="submit" class="btn btn-inverse span10 offset1">Confirm</button>
					{% endblock submit_button %}
				</div><!-- /.controls -->
			</div><!-- /.control-group -->
		</div>
        </form><!-- /.contact-form -->
    {% else %}
    	<div class="text-error">
    		Please accept our apologies, but a server error has occurred.  Fear not, for Andrew shall be beaten about the head mercilessly for his shoddy workmanship.
    	</div><!-- /.text-error -->
    {% endif %}

</div>
{% endblock content %}