{% extends "cmsplugin_blog/cmsplugin_blog_base.html" %}
{% load additions_tags pagination_tags i18n cms_tags menu_tags placeholder_tags cmsplugin_blog_tags simple_translation_tags %}

{% block pagetitle %}Blog entries for {{ year }}{% endblock %}
{% block title %}Blog entries for {{ year }}{% endblock %}

{% block breadcrumb %}
{{ block.super }}
<li>&raquo;</li>
<li><a href="{% url blog_archive_year year=year %}">{{ year }}</a></li>
{% endblock %}

{% block left-col %}
{{ block.super }}
{% autopaginate object_list as entries %}
{% for entry in entries %}
{% with entry|get_preferred_translation_from_request:request as title %}
{% with entry.placeholders|choose_placeholder:"content" as content %}
<div class="roundbox">
    <div class="node-title"><a href="{{ title.get_absolute_url }}">{{ title }}</a></div>
    <div class="node-meta">dated {{ entry.pub_date|date:"Y-m-d \@ H:i" }}</div>
    {% if content %}<div class="node-excerpt">{% render_placeholder content %}</div>{% endif %}
    {% render_tag_links_detail entry %}
</div>
{% endwith %}
{% endwith %}
{% empty %}
<div class="roundbox">
    <em>No entries exist for this year.</em>
</div>
{% endfor %}
{% paginate %}
{% render_tag_links %}
{% endblock %}
