{% extends "admin/base_site.html" %}
{% load i18n adminmedia %}
{% load url from future %}
{# {% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% admin_media_prefix %}css/forms.css" />{% endblock %} #}
{% block userlinks %}{% url 'django-admindocs-docroot' as docsroot %}
    {% if docsroot %}
    <li><a href="{{ docsroot }}">{% trans 'Documentation' %}</a></li>
    {% endif %}
    <li class="active"><a>{% trans 'Change password' %}</a></li>
    <li><a href="../logout/">{% trans 'Log out' %}</a></li>
{% endblock %}

{% block breadcrumbs %}

<ul class="breadcrumb">
    <li><a href="../">{% trans 'Home' %}</a> <span class="divider">/</span></li>
    <li class="active">{% trans 'Password change' %}</li>
</ul>
{% endblock %}

{% block title %}{% trans 'Password change' %}{% endblock %}

{% block content %}<div id="content-main">

<form class="form-horizontal" action="" method="post">{% csrf_token %}
<div class="well well" style="margin-top:20px;">
{% if form.errors %}
    <div class="alert alert-error">
        {% blocktrans count form.errors.items|length as counter %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
    </div>
{% endif %}

<h3>{% trans 'Password change' %}</h3>

<div class="alert alert-info">{% trans "Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly." %}</div>

<fieldset class="module aligned wide">
{# <legend>{% trans 'Password change' %}</legend> #}
<div class="control-group {#form-row#} {% if form.old_password.errors %}error{% endif %}">
    <label for="id_old_password" class="control-label {#required#}">{% trans 'Old password' %}:</label>
    <div class="controls">
        <div class="input-append">
            {{ form.old_password }}<span class="add-on"><label for="id_old_password"><i class="icon-lock"></i></label></span>
        </div>
        <ul class="help-inline unstyled">
            {% for error in form.old_password.errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

<div class="control-group {#form-row#} {% if form.new_password1.errors %}error{% endif %}">
    <label for="id_new_password1" class="control-label {#required#}">{% trans 'New password' %}:</label>
    <div class="controls">
        <div class="input-append">
            {{ form.new_password1 }}<span class="add-on"><label for="id_new_password1"><i class="icon-lock"></i></label></span>
        </div>
        <ul class="help-inline unstyled">
            {% for error in form.new_password1.errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

<div class="control-group {#form-row#} {% if form.new_password2.errors %}error{% endif %}">
    <label for="id_new_password2" class="control-label {#required#}">{% trans 'Password (again)' %}:</label>
    <div class="controls">
        <div class="input-append">
            {{ form.new_password2 }}<span class="add-on"><label for="id_new_password2"><i class="icon-lock"></i></label></span>
        </div>
        <ul class="help-inline unstyled">
            {% for error in form.new_password2.errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

{# </fieldset> #}

<div class="control-group">
    <div class="controls">
        <button type="submit" class="btn btn-primary">{% trans 'Change my password' %}</button>
    </div>
</div>

<script type="text/javascript">document.getElementById("id_old_password").focus();</script>
</div>
</form></div>

{% endblock %}
